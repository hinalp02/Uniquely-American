!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).dagre={})}(this,(function(t){"use strict";function e(t,e,r,n){var o=-1,i=null==t?0:t.length;for(n&&i&&(r=t[++o]);++o<i;)r=e(r,t[o],o,t);return r}var r,n=function(t,e,n){for(var o=-1,i=Object(t),u=n(t),c=u.length;c--;){var s=u[r?c:++o];if(!1===e(i[s],s,i))break}return t},o=n;var i="object"==typeof global&&global&&global.Object===Object&&global,u="object"==typeof self&&self&&self.Object===Object&&self,c=i||u||Function("return this")(),s=c.Symbol,a=Object.prototype,f=a.hasOwnProperty,h=a.toString,l=s?s.toStringTag:void 0;var p=Object.prototype.toString;var d=s?s.toStringTag:void 0;function v(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":d&&d in Object(t)?function(t){var e=f.call(t,l),r=t[l];try{t[l]=void 0;var n=!0}catch(t){}var o=h.call(t);return n&&(e?t[l]=r:delete t[l]),o}(t):function(t){return p.call(t)}(t)}function y(t){return null!=t&&"object"==typeof t}function _(t){return y(t)&&"[object Arguments]"==v(t)}var b=Object.prototype,g=b.hasOwnProperty,j=b.propertyIsEnumerable,w=_(function(){return arguments}())?_:function(t){return y(t)&&g.call(t,"callee")&&!j.call(t,"callee")},m=w,O=Array.isArray;var E="object"==typeof t&&t&&!t.nodeType&&t,A=E&&"object"==typeof module&&module&&!module.nodeType&&module,I=A&&A.exports===E?c.Buffer:void 0,k=(I?I.isBuffer:void 0)||function(){return!1},S=/^(?:0|[1-9]\d*)$/;function N(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&S.test(t))&&t>-1&&t%1==0&&t<e}function C(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}var P={};function z(t){return function(e){return t(e)}}P["[object Float32Array]"]=P["[object Float64Array]"]=P["[object Int8Array]"]=P["[object Int16Array]"]=P["[object Int32Array]"]=P["[object Uint8Array]"]=P["[object Uint8ClampedArray]"]=P["[object Uint16Array]"]=P["[object Uint32Array]"]=!0,P["[object Arguments]"]=P["[object Array]"]=P["[object ArrayBuffer]"]=P["[object Boolean]"]=P["[object DataView]"]=P["[object Date]"]=P["[object Error]"]=P["[object Function]"]=P["[object Map]"]=P["[object Number]"]=P["[object Object]"]=P["[object RegExp]"]=P["[object Set]"]=P["[object String]"]=P["[object WeakMap]"]=!1;var x="object"==typeof t&&t&&!t.nodeType&&t,D=x&&"object"==typeof module&&module&&!module.nodeType&&module,F=D&&D.exports===x&&i.process,M=function(){try{var t=D&&D.require&&D.require("util").types;return t||F&&F.binding&&F.binding("util")}catch(t){}}(),L=M&&M.isTypedArray,T=L?z(L):function(t){return y(t)&&C(t.length)&&!!P[v(t)]},U=Object.prototype.hasOwnProperty;function B(t,e){var r=O(t),n=!r&&m(t),o=!r&&!n&&k(t),i=!r&&!n&&!o&&T(t),u=r||n||o||i,c=u?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],s=c.length;for(var a in t)!e&&!U.call(t,a)||u&&("length"==a||o&&("offset"==a||"parent"==a)||i&&("buffer"==a||"byteLength"==a||"byteOffset"==a)||N(a,s))||c.push(a);return c}var $=Object.prototype;function V(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||$)}function R(t,e){return function(r){return t(e(r))}}var G=R(Object.keys,Object),W=Object.prototype.hasOwnProperty;function Y(t){if(!V(t))return G(t);var e=[];for(var r in Object(t))W.call(t,r)&&"constructor"!=r&&e.push(r);return e}function q(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function K(t){if(!q(t))return!1;var e=v(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Q(t){return null!=t&&C(t.length)&&!K(t)}function H(t){return Q(t)?B(t):Y(t)}function J(t,e){return t&&o(t,e,H)}var X=function(t,e){return function(r,n){if(null==r)return r;if(!Q(r))return t(r,n);for(var o=r.length,i=e?o:-1,u=Object(r);(e?i--:++i<o)&&!1!==n(u[i],i,u););return r}}(J),Z=X;function tt(t,e){return t===e||t!=t&&e!=e}function et(t,e){for(var r=t.length;r--;)if(tt(t[r][0],e))return r;return-1}var rt=Array.prototype.splice;function nt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}nt.prototype.clear=function(){this.__data__=[],this.size=0},nt.prototype.delete=function(t){var e=this.__data__,r=et(e,t);return!(r<0)&&(r==e.length-1?e.pop():rt.call(e,r,1),--this.size,!0)},nt.prototype.get=function(t){var e=this.__data__,r=et(e,t);return r<0?void 0:e[r][1]},nt.prototype.has=function(t){return et(this.__data__,t)>-1},nt.prototype.set=function(t,e){var r=this.__data__,n=et(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this};var ot,it=c["__core-js_shared__"],ut=(ot=/[^.]+$/.exec(it&&it.keys&&it.keys.IE_PROTO||""))?"Symbol(src)_1."+ot:"";var ct=Function.prototype.toString;function st(t){if(null!=t){try{return ct.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var at=/^\[object .+?Constructor\]$/,ft=Function.prototype,ht=Object.prototype,lt=ft.toString,pt=ht.hasOwnProperty,dt=RegExp("^"+lt.call(pt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function vt(t){return!(!q(t)||(e=t,ut&&ut in e))&&(K(t)?dt:at).test(st(t));var e}function yt(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return vt(r)?r:void 0}var _t=yt(c,"Map"),bt=yt(Object,"create");var gt=Object.prototype.hasOwnProperty;var jt=Object.prototype.hasOwnProperty;function wt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function mt(t,e){var r,n,o=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?o["string"==typeof e?"string":"hash"]:o.map}function Ot(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}wt.prototype.clear=function(){this.__data__=bt?bt(null):{},this.size=0},wt.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},wt.prototype.get=function(t){var e=this.__data__;if(bt){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return gt.call(e,t)?e[t]:void 0},wt.prototype.has=function(t){var e=this.__data__;return bt?void 0!==e[t]:jt.call(e,t)},wt.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=bt&&void 0===e?"__lodash_hash_undefined__":e,this},Ot.prototype.clear=function(){this.size=0,this.__data__={hash:new wt,map:new(_t||nt),string:new wt}},Ot.prototype.delete=function(t){var e=mt(this,t).delete(t);return this.size-=e?1:0,e},Ot.prototype.get=function(t){return mt(this,t).get(t)},Ot.prototype.has=function(t){return mt(this,t).has(t)},Ot.prototype.set=function(t,e){var r=mt(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this};function Et(t){var e=this.__data__=new nt(t);this.size=e.size}Et.prototype.clear=function(){this.__data__=new nt,this.size=0},Et.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},Et.prototype.get=function(t){return this.__data__.get(t)},Et.prototype.has=function(t){return this.__data__.has(t)},Et.prototype.set=function(t,e){var r=this.__data__;if(r instanceof nt){var n=r.__data__;if(!_t||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Ot(n)}return r.set(t,e),this.size=r.size,this};function At(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new Ot;++e<r;)this.add(t[e])}function It(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}function kt(t,e){return t.has(e)}At.prototype.add=At.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},At.prototype.has=function(t){return this.__data__.has(t)};function St(t,e,r,n,o,i){var u=1&r,c=t.length,s=e.length;if(c!=s&&!(u&&s>c))return!1;var a=i.get(t),f=i.get(e);if(a&&f)return a==e&&f==t;var h=-1,l=!0,p=2&r?new At:void 0;for(i.set(t,e),i.set(e,t);++h<c;){var d=t[h],v=e[h];if(n)var y=u?n(v,d,h,e,t,i):n(d,v,h,t,e,i);if(void 0!==y){if(y)continue;l=!1;break}if(p){if(!It(e,(function(t,e){if(!kt(p,e)&&(d===t||o(d,t,r,n,i)))return p.push(e)}))){l=!1;break}}else if(d!==v&&!o(d,v,r,n,i)){l=!1;break}}return i.delete(t),i.delete(e),l}var Nt=c.Uint8Array;function Ct(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}function Pt(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}var zt=s?s.prototype:void 0,xt=zt?zt.valueOf:void 0;function Dt(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}function Ft(t,e,r){var n=e(t);return O(t)?n:Dt(n,r(t))}function Mt(t,e){for(var r=-1,n=null==t?0:t.length,o=0,i=[];++r<n;){var u=t[r];e(u,r,t)&&(i[o++]=u)}return i}function Lt(){return[]}var Tt=Object.prototype.propertyIsEnumerable,Ut=Object.getOwnPropertySymbols,Bt=Ut?function(t){return null==t?[]:(t=Object(t),Mt(Ut(t),(function(e){return Tt.call(t,e)})))}:Lt;function $t(t){return Ft(t,H,Bt)}var Vt=Object.prototype.hasOwnProperty;var Rt=yt(c,"DataView"),Gt=yt(c,"Promise"),Wt=yt(c,"Set"),Yt=yt(c,"WeakMap"),qt="[object Map]",Kt="[object Promise]",Qt="[object Set]",Ht="[object WeakMap]",Jt="[object DataView]",Xt=st(Rt),Zt=st(_t),te=st(Gt),ee=st(Wt),re=st(Yt),ne=v;(Rt&&ne(new Rt(new ArrayBuffer(1)))!=Jt||_t&&ne(new _t)!=qt||Gt&&ne(Gt.resolve())!=Kt||Wt&&ne(new Wt)!=Qt||Yt&&ne(new Yt)!=Ht)&&(ne=function(t){var e=v(t),r="[object Object]"==e?t.constructor:void 0,n=r?st(r):"";if(n)switch(n){case Xt:return Jt;case Zt:return qt;case te:return Kt;case ee:return Qt;case re:return Ht}return e});var oe=ne,ie="[object Arguments]",ue="[object Array]",ce="[object Object]",se=Object.prototype.hasOwnProperty;function ae(t,e,r,n,o,i){var u=O(t),c=O(e),s=u?ue:oe(t),a=c?ue:oe(e),f=(s=s==ie?ce:s)==ce,h=(a=a==ie?ce:a)==ce,l=s==a;if(l&&k(t)){if(!k(e))return!1;u=!0,f=!1}if(l&&!f)return i||(i=new Et),u||T(t)?St(t,e,r,n,o,i):function(t,e,r,n,o,i,u){switch(r){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!i(new Nt(t),new Nt(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return tt(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var c=Ct;case"[object Set]":var s=1&n;if(c||(c=Pt),t.size!=e.size&&!s)return!1;var a=u.get(t);if(a)return a==e;n|=2,u.set(t,e);var f=St(c(t),c(e),n,o,i,u);return u.delete(t),f;case"[object Symbol]":if(xt)return xt.call(t)==xt.call(e)}return!1}(t,e,s,r,n,o,i);if(!(1&r)){var p=f&&se.call(t,"__wrapped__"),d=h&&se.call(e,"__wrapped__");if(p||d){var v=p?t.value():t,y=d?e.value():e;return i||(i=new Et),o(v,y,r,n,i)}}return!!l&&(i||(i=new Et),function(t,e,r,n,o,i){var u=1&r,c=$t(t),s=c.length;if(s!=$t(e).length&&!u)return!1;for(var a=s;a--;){var f=c[a];if(!(u?f in e:Vt.call(e,f)))return!1}var h=i.get(t),l=i.get(e);if(h&&l)return h==e&&l==t;var p=!0;i.set(t,e),i.set(e,t);for(var d=u;++a<s;){var v=t[f=c[a]],y=e[f];if(n)var _=u?n(y,v,f,e,t,i):n(v,y,f,t,e,i);if(!(void 0===_?v===y||o(v,y,r,n,i):_)){p=!1;break}d||(d="constructor"==f)}if(p&&!d){var b=t.constructor,g=e.constructor;b==g||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof g&&g instanceof g||(p=!1)}return i.delete(t),i.delete(e),p}(t,e,r,n,o,i))}function fe(t,e,r,n,o){return t===e||(null==t||null==e||!y(t)&&!y(e)?t!=t&&e!=e:ae(t,e,r,n,fe,o))}function he(t){return t==t&&!q(t)}function le(t,e){return function(r){return null!=r&&(r[t]===e&&(void 0!==e||t in Object(r)))}}function pe(t){var e=function(t){for(var e=H(t),r=e.length;r--;){var n=e[r],o=t[n];e[r]=[n,o,he(o)]}return e}(t);return 1==e.length&&e[0][2]?le(e[0][0],e[0][1]):function(r){return r===t||function(t,e,r,n){var o=r.length,i=o,u=!n;if(null==t)return!i;for(t=Object(t);o--;){var c=r[o];if(u&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++o<i;){var s=(c=r[o])[0],a=t[s],f=c[1];if(u&&c[2]){if(void 0===a&&!(s in t))return!1}else{var h=new Et;if(n)var l=n(a,f,s,t,e,h);if(!(void 0===l?fe(f,a,3,n,h):l))return!1}}return!0}(r,t,e)}}function de(t){return"symbol"==typeof t||y(t)&&"[object Symbol]"==v(t)}var ve=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ye=/^\w*$/;function _e(t,e){if(O(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!de(t))||(ye.test(t)||!ve.test(t)||null!=e&&t in Object(e))}function be(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function(){var n=arguments,o=e?e.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var u=t.apply(this,n);return r.cache=i.set(o,u)||i,u};return r.cache=new(be.Cache||Ot),r}be.Cache=Ot;var ge,je,we,me=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Oe=/\\(\\)?/g,Ee=(ge=function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(me,(function(t,r,n,o){e.push(n?o.replace(Oe,"$1"):r||t)})),e},je=be(ge,(function(t){return 500===we.size&&we.clear(),t})),we=je.cache,je),Ae=Ee;function Ie(t,e){for(var r=-1,n=null==t?0:t.length,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o}var ke=s?s.prototype:void 0,Se=ke?ke.toString:void 0;function Ne(t){if("string"==typeof t)return t;if(O(t))return Ie(t,Ne)+"";if(de(t))return Se?Se.call(t):"";var e=t+"";return"0"==e&&1/t==-Infinity?"-0":e}function Ce(t,e){return O(t)?t:_e(t,e)?[t]:Ae(function(t){return null==t?"":Ne(t)}(t))}function Pe(t){if("string"==typeof t||de(t))return t;var e=t+"";return"0"==e&&1/t==-Infinity?"-0":e}function ze(t,e){for(var r=0,n=(e=Ce(e,t)).length;null!=t&&r<n;)t=t[Pe(e[r++])];return r&&r==n?t:void 0}function xe(t,e){return null!=t&&e in Object(t)}function De(t,e,r){for(var n=-1,o=(e=Ce(e,t)).length,i=!1;++n<o;){var u=Pe(e[n]);if(!(i=null!=t&&r(t,u)))break;t=t[u]}return i||++n!=o?i:!!(o=null==t?0:t.length)&&C(o)&&N(u,o)&&(O(t)||m(t))}function Fe(t,e){return _e(t)&&he(e)?le(Pe(t),e):function(r){var n=function(t,e,r){var n=null==t?void 0:ze(t,e);return void 0===n?r:n}(r,t);return void 0===n&&n===e?function(t,e){return null!=t&&De(t,e,xe)}(r,t):fe(e,n,3)}}function Me(t){return t}function Le(t){return function(e){return null==e?void 0:e[t]}}function Te(t){return _e(t)?Le(Pe(t)):function(t){return function(e){return ze(e,t)}}(t)}function Ue(t){return"function"==typeof t?t:null==t?Me:"object"==typeof t?O(t)?Fe(t[0],t[1]):pe(t):Te(t)}function Be(t,e,r,n,o){return o(t,(function(t,o,i){r=n?(n=!1,t):e(r,t,o,i)})),r}function $e(t,r,n){var o=O(t)?e:Be,i=arguments.length<3;return o(t,Ue(r),n,i,Z)}function Ve(t){return null==t?[]:function(t,e){return Ie(e,(function(e){return t[e]}))}(t,H(t))}var Re=s?s.isConcatSpreadable:void 0;function Ge(t){return O(t)||m(t)||!!(Re&&t&&t[Re])}function We(t,e,r,n,o){var i=-1,u=t.length;for(r||(r=Ge),o||(o=[]);++i<u;){var c=t[i];e>0&&r(c)?e>1?We(c,e-1,r,n,o):Dt(o,c):n||(o[o.length]=c)}return o}function Ye(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var qe=Math.max;function Ke(t){return function(){return t}}var Qe=function(){try{var t=yt(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),He=Qe,Je=He?function(t,e){return He(t,"toString",{configurable:!0,enumerable:!1,value:Ke(e),writable:!0})}:Me,Xe=Je,Ze=Date.now;var tr=function(t){var e=0,r=0;return function(){var n=Ze(),o=16-(n-r);if(r=n,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(Xe),er=tr;function rr(t){return t!=t}function nr(t,e){return!!(null==t?0:t.length)&&function(t,e,r){return e==e?function(t,e,r){for(var n=r-1,o=t.length;++n<o;)if(t[n]===e)return n;return-1}(t,e,r):function(t,e,r,n){for(var o=t.length,i=r+(n?1:-1);n?i--:++i<o;)if(e(t[i],i,t))return i;return-1}(t,rr,r)}(t,e,0)>-1}function or(t,e,r){for(var n=-1,o=null==t?0:t.length;++n<o;)if(r(e,t[n]))return!0;return!1}var ir=Wt&&1/Pt(new Wt([,-0]))[1]==1/0?function(t){return new Wt(t)}:function(){},ur=ir;function cr(t){return y(t)&&Q(t)}var sr=function(t,e){return er(function(t,e,r){return e=qe(void 0===e?t.length-1:e,0),function(){for(var n=arguments,o=-1,i=qe(n.length-e,0),u=Array(i);++o<i;)u[o]=n[e+o];o=-1;for(var c=Array(e+1);++o<e;)c[o]=n[o];return c[e]=r(u),Ye(t,this,c)}}(t,e,Me),t+"")}((function(t){return function(t,e,r){var n=-1,o=nr,i=t.length,u=!0,c=[],s=c;if(r)u=!1,o=or;else if(i>=200){var a=e?null:ur(t);if(a)return Pt(a);u=!1,o=kt,s=new At}else s=e?[]:c;t:for(;++n<i;){var f=t[n],h=e?e(f):f;if(f=r||0!==f?f:0,u&&h==h){for(var l=s.length;l--;)if(s[l]===h)continue t;e&&s.push(h),c.push(f)}else o(s,h,r)||(s!==c&&s.push(h),c.push(f))}return c}(We(t,1,cr,!0))})),ar=sr;function fr(t){return void 0===t}function hr(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t}function lr(t,e){var r;return(O(t)?hr:Z)(t,"function"==typeof(r=e)?r:Me)}var pr=Object.prototype.hasOwnProperty;function dr(t){if(null==t)return!0;if(Q(t)&&(O(t)||"string"==typeof t||"function"==typeof t.splice||k(t)||T(t)||m(t)))return!t.length;var e=oe(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if(V(t))return!Y(t).length;for(var r in t)if(pr.call(t,r))return!1;return!0}function vr(t,e){var r=[];return Z(t,(function(t,n,o){e(t,n,o)&&r.push(t)})),r}function yr(t,e){return(O(t)?Mt:vr)(t,Ue(e))}var _r=Object.prototype.hasOwnProperty;function br(t,e){return null!=t&&_r.call(t,e)}function gr(t,e){return null!=t&&De(t,e,br)}const jr="\0";function wr(t){this._isDirected=!gr(t,"directed")||t.directed,this._isMultigraph=!!gr(t,"multigraph")&&t.multigraph,this._isCompound=!!gr(t,"compound")&&t.compound,this._label=void 0,this._defaultNodeLabelFn=Ke(void 0),this._defaultEdgeLabelFn=Ke(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\0"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function mr(t,e){t[e]?t[e]++:t[e]=1}function Or(t,e){--t[e]||delete t[e]}function Er(t,e,r,n){var o=""+e,i=""+r;if(!t&&o>i){var u=o;o=i,i=u}return o+""+i+""+(fr(n)?"\0":n)}function Ar(t,e,r,n){var o=""+e,i=""+r;if(!t&&o>i){var u=o;o=i,i=u}var c={v:o,w:i};return n&&(c.name=n),c}function Ir(t,e){return Er(t,e.v,e.w,e.name)}function kr(t,e){var r=-1,n=Q(t)?Array(t.length):[];return Z(t,(function(t,o,i){n[++r]=e(t,o,i)})),n}function Sr(t,e){return(O(t)?Ie:kr)(t,Ue(e))}function Nr(t,e,r){"__proto__"==e&&He?He(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}wr.prototype._nodeCount=0,wr.prototype._edgeCount=0,wr.prototype.isDirected=function(){return this._isDirected},wr.prototype.isMultigraph=function(){return this._isMultigraph},wr.prototype.isCompound=function(){return this._isCompound},wr.prototype.setGraph=function(t){return this._label=t,this},wr.prototype.graph=function(){return this._label},wr.prototype.setDefaultNodeLabel=function(t){return K(t)||(t=Ke(t)),this._defaultNodeLabelFn=t,this},wr.prototype.nodeCount=function(){return this._nodeCount},wr.prototype.nodes=function(){return H(this._nodes)},wr.prototype.sources=function(){var t=this;return yr(this.nodes(),(function(e){return dr(t._in[e])}))},wr.prototype.sinks=function(){var t=this;return yr(this.nodes(),(function(e){return dr(t._out[e])}))},wr.prototype.setNodes=function(t,e){var r=arguments,n=this;return lr(t,(function(t){r.length>1?n.setNode(t,e):n.setNode(t)})),this},wr.prototype.setNode=function(t,e){return gr(this._nodes,t)?(arguments.length>1&&(this._nodes[t]=e),this):(this._nodes[t]=arguments.length>1?e:this._defaultNodeLabelFn(t),this._isCompound&&(this._parent[t]=jr,this._children[t]={},this._children["\0"][t]=!0),this._in[t]={},this._preds[t]={},this._out[t]={},this._sucs[t]={},++this._nodeCount,this)},wr.prototype.node=function(t){return this._nodes[t]},wr.prototype.hasNode=function(t){return gr(this._nodes,t)},wr.prototype.removeNode=function(t){var e=this;if(gr(this._nodes,t)){var r=function(t){e.removeEdge(e._edgeObjs[t])};delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],lr(this.children(t),(function(t){e.setParent(t)})),delete this._children[t]),lr(H(this._in[t]),r),delete this._in[t],delete this._preds[t],lr(H(this._out[t]),r),delete this._out[t],delete this._sucs[t],--this._nodeCount}return this},wr.prototype.setParent=function(t,e){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(fr(e))e=jr;else{for(var r=e+="";!fr(r);r=this.parent(r))if(r===t)throw new Error("Setting "+e+" as parent of "+t+" would create a cycle");this.setNode(e)}return this.setNode(t),this._removeFromParentsChildList(t),this._parent[t]=e,this._children[e][t]=!0,this},wr.prototype._removeFromParentsChildList=function(t){delete this._children[this._parent[t]][t]},wr.prototype.parent=function(t){if(this._isCompound){var e=this._parent[t];if(e!==jr)return e}},wr.prototype.children=function(t){if(fr(t)&&(t=jr),this._isCompound){var e=this._children[t];if(e)return H(e)}else{if(t===jr)return this.nodes();if(this.hasNode(t))return[]}},wr.prototype.predecessors=function(t){var e=this._preds[t];if(e)return H(e)},wr.prototype.successors=function(t){var e=this._sucs[t];if(e)return H(e)},wr.prototype.neighbors=function(t){var e=this.predecessors(t);if(e)return ar(e,this.successors(t))},wr.prototype.isLeaf=function(t){return 0===(this.isDirected()?this.successors(t):this.neighbors(t)).length},wr.prototype.filterNodes=function(t){var e=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});e.setGraph(this.graph());var r=this;lr(this._nodes,(function(r,n){t(n)&&e.setNode(n,r)})),lr(this._edgeObjs,(function(t){e.hasNode(t.v)&&e.hasNode(t.w)&&e.setEdge(t,r.edge(t))}));var n={};function o(t){var i=r.parent(t);return void 0===i||e.hasNode(i)?(n[t]=i,i):i in n?n[i]:o(i)}return this._isCompound&&lr(e.nodes(),(function(t){e.setParent(t,o(t))})),e},wr.prototype.setDefaultEdgeLabel=function(t){return K(t)||(t=Ke(t)),this._defaultEdgeLabelFn=t,this},wr.prototype.edgeCount=function(){return this._edgeCount},wr.prototype.edges=function(){return Ve(this._edgeObjs)},wr.prototype.setPath=function(t,e){const r=this,n=arguments;return $e(t,(function(t,o){return n.length>1?r.setEdge(t,o,e):r.setEdge(t,o),o})),this},wr.prototype.setEdge=function(){let t,e,r,n,o=!1;const i=arguments[0];"object"==typeof i&&null!==i&&"v"in i?(t=i.v,e=i.w,r=i.name,2===arguments.length&&(n=arguments[1],o=!0)):(t=i,e=arguments[1],r=arguments[3],arguments.length>2&&(n=arguments[2],o=!0)),t=""+t,e=""+e,fr(r)||(r=""+r);var u=Er(this._isDirected,t,e,r);if(gr(this._edgeLabels,u))return o&&(this._edgeLabels[u]=n),this;if(!fr(r)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(t),this.setNode(e),this._edgeLabels[u]=o?n:this._defaultEdgeLabelFn(t,e,r);var c=Ar(this._isDirected,t,e,r);return t=c.v,e=c.w,Object.freeze(c),this._edgeObjs[u]=c,mr(this._preds[e],t),mr(this._sucs[t],e),this._in[e][u]=c,this._out[t][u]=c,this._edgeCount++,this},wr.prototype.edge=function(t,e,r){var n=1===arguments.length?Ir(this._isDirected,arguments[0]):Er(this._isDirected,t,e,r);return this._edgeLabels[n]},wr.prototype.hasEdge=function(t,e,r){var n=1===arguments.length?Ir(this._isDirected,arguments[0]):Er(this._isDirected,t,e,r);return gr(this._edgeLabels,n)},wr.prototype.removeEdge=function(t,e,r){const n=1===arguments.length?Ir(this._isDirected,arguments[0]):Er(this._isDirected,t,e,r),o=this._edgeObjs[n];return o&&(t=o.v,e=o.w,delete this._edgeLabels[n],delete this._edgeObjs[n],Or(this._preds[e],t),Or(this._sucs[t],e),delete this._in[e][n],delete this._out[t][n],this._edgeCount--),this},wr.prototype.inEdges=function(t,e){var r=this._in[t];if(r){var n=Ve(r);return e?yr(n,(function(t){return t.v===e})):n}},wr.prototype.outEdges=function(t,e){var r=this._out[t];if(r){var n=Ve(r);return e?yr(n,(function(t){return t.w===e})):n}},wr.prototype.nodeEdges=function(t,e){var r=this.inEdges(t,e);if(r)return r.concat(this.outEdges(t,e))};var Cr=Object.prototype.hasOwnProperty;function Pr(t,e,r){var n=t[e];Cr.call(t,e)&&tt(n,r)&&(void 0!==r||e in t)||Nr(t,e,r)}function zr(t,e,r,n){var o=!r;r||(r={});for(var i=-1,u=e.length;++i<u;){var c=e[i],s=n?n(r[c],t[c],c,r,t):void 0;void 0===s&&(s=t[c]),o?Nr(r,c,s):Pr(r,c,s)}return r}var xr=Object.prototype.hasOwnProperty;function Dr(t){if(!q(t))return function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}(t);var e=V(t),r=[];for(var n in t)("constructor"!=n||!e&&xr.call(t,n))&&r.push(n);return r}function Fr(t){return Q(t)?B(t,!0):Dr(t)}var Mr="object"==typeof t&&t&&!t.nodeType&&t,Lr=Mr&&"object"==typeof module&&module&&!module.nodeType&&module,Tr=Lr&&Lr.exports===Mr?c.Buffer:void 0,Ur=Tr?Tr.allocUnsafe:void 0;var Br=R(Object.getPrototypeOf,Object),$r=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)Dt(e,Bt(t)),t=Br(t);return e}:Lt,Vr=$r;function Rr(t){return Ft(t,Fr,Vr)}var Gr=Object.prototype.hasOwnProperty;function Wr(t){var e=new t.constructor(t.byteLength);return new Nt(e).set(new Nt(t)),e}var Yr=/\w*$/;var qr=s?s.prototype:void 0,Kr=qr?qr.valueOf:void 0;function Qr(t,e,r){var n,o=t.constructor;switch(e){case"[object ArrayBuffer]":return Wr(t);case"[object Boolean]":case"[object Date]":return new o(+t);case"[object DataView]":return function(t,e){var r=e?Wr(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(t,e){var r=e?Wr(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}(t,r);case"[object Map]":case"[object Set]":return new o;case"[object Number]":case"[object String]":return new o(t);case"[object RegExp]":return function(t){var e=new t.constructor(t.source,Yr.exec(t));return e.lastIndex=t.lastIndex,e}(t);case"[object Symbol]":return n=t,Kr?Object(Kr.call(n)):{}}}var Hr=Object.create,Jr=function(){function t(){}return function(e){if(!q(e))return{};if(Hr)return Hr(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}(),Xr=Jr;var Zr=M&&M.isMap,tn=Zr?z(Zr):function(t){return y(t)&&"[object Map]"==oe(t)};var en=M&&M.isSet,rn=en?z(en):function(t){return y(t)&&"[object Set]"==oe(t)},nn="[object Arguments]",on="[object Function]",un="[object Object]",cn={};function sn(t,e,r,n,o,i){var u,c=1&e,s=2&e,a=4&e;if(r&&(u=o?r(t,n,o,i):r(t)),void 0!==u)return u;if(!q(t))return t;var f=O(t);if(f){if(u=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&Gr.call(t,"index")&&(r.index=t.index,r.input=t.input),r}(t),!c)return function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}(t,u)}else{var h=oe(t),l=h==on||"[object GeneratorFunction]"==h;if(k(t))return function(t,e){if(e)return t.slice();var r=t.length,n=Ur?Ur(r):new t.constructor(r);return t.copy(n),n}(t,c);if(h==un||h==nn||l&&!o){if(u=s||l?{}:function(t){return"function"!=typeof t.constructor||V(t)?{}:Xr(Br(t))}(t),!c)return s?function(t,e){return zr(t,Vr(t),e)}(t,function(t,e){return t&&zr(e,Fr(e),t)}(u,t)):function(t,e){return zr(t,Bt(t),e)}(t,function(t,e){return t&&zr(e,H(e),t)}(u,t))}else{if(!cn[h])return o?t:{};u=Qr(t,h,c)}}i||(i=new Et);var p=i.get(t);if(p)return p;i.set(t,u),rn(t)?t.forEach((function(n){u.add(sn(n,e,r,n,t,i))})):tn(t)&&t.forEach((function(n,o){u.set(o,sn(n,e,r,o,t,i))}));var d=f?void 0:(a?s?Rr:$t:s?Fr:H)(t);return hr(d||t,(function(n,o){d&&(n=t[o=n]),Pr(u,o,sn(n,e,r,o,t,i))})),u}cn[nn]=cn["[object Array]"]=cn["[object ArrayBuffer]"]=cn["[object DataView]"]=cn["[object Boolean]"]=cn["[object Date]"]=cn["[object Float32Array]"]=cn["[object Float64Array]"]=cn["[object Int8Array]"]=cn["[object Int16Array]"]=cn["[object Int32Array]"]=cn["[object Map]"]=cn["[object Number]"]=cn[un]=cn["[object RegExp]"]=cn["[object Set]"]=cn["[object String]"]=cn["[object Symbol]"]=cn["[object Uint8Array]"]=cn["[object Uint8ClampedArray]"]=cn["[object Uint16Array]"]=cn["[object Uint32Array]"]=!0,cn["[object Error]"]=cn[on]=cn["[object WeakMap]"]=!1;function an(t){return Sr(t.nodes(),(function(e){const r=t.node(e),n=t.parent(e),o={v:e};return fr(r)||(o.value=r),fr(n)||(o.parent=n),o}))}function fn(t){return Sr(t.edges(),(function(e){const r=t.edge(e),n={v:e.v,w:e.w};return fr(e.name)||(n.name=e.name),fr(r)||(n.value=r),n}))}var hn=Object.freeze({__proto__:null,write:function(t){var e={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:an(t),edges:fn(t)};return fr(t.graph())||(e.value=sn(t.graph(),4)),e},read:function(t){var e=new wr(t.options).setGraph(t.value);return lr(t.nodes,(function(t){e.setNode(t.v,t.value),t.parent&&e.setParent(t.v,t.parent)})),lr(t.edges,(function(t){e.setEdge({v:t.v,w:t.w,name:t.name},t.value)})),e}});function ln(){this._arr=[],this._keyIndices={}}ln.prototype.size=function(){return this._arr.length},ln.prototype.keys=function(){return this._arr.map((function(t){return t.key}))},ln.prototype.has=function(t){return gr(this._keyIndices,t)},ln.prototype.priority=function(t){var e=this._keyIndices[t];if(void 0!==e)return this._arr[e].priority},ln.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},ln.prototype.add=function(t,e){var r=this._keyIndices;if(!gr(r,t=String(t))){var n=this._arr,o=n.length;return r[t]=o,n.push({key:t,priority:e}),this._decrease(o),!0}return!1},ln.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var t=this._arr.pop();return delete this._keyIndices[t.key],this._heapify(0),t.key},ln.prototype.decrease=function(t,e){var r=this._keyIndices[t];if(e>this._arr[r].priority)throw new Error("New priority is greater than current priority. Key: "+t+" Old: "+this._arr[r].priority+" New: "+e);this._arr[r].priority=e,this._decrease(r)},ln.prototype._heapify=function(t){const e=this._arr,r=2*t,n=r+1;let o=t;r<e.length&&(o=e[r].priority<e[o].priority?r:o,n<e.length&&(o=e[n].priority<e[o].priority?n:o),o!==t&&(this._swap(t,o),this._heapify(o)))},ln.prototype._decrease=function(t){for(var e,r=this._arr,n=r[t].priority;0!==t&&!(r[e=t>>1].priority<n);)this._swap(t,e),t=e},ln.prototype._swap=function(t,e){var r=this._arr,n=this._keyIndices,o=r[t],i=r[e];r[t]=i,r[e]=o,n[i.key]=t,n[o.key]=e};var pn=Ke(1);function dn(t,e,r,n){return function(t,e,r,n){const o={},i=new ln;let u,c;var s=function(t){const e=t.v!==u?t.v:t.w,n=o[e],s=r(t),a=c.distance+s;if(s<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+t+" Weight: "+s);a<n.distance&&(n.distance=a,n.predecessor=u,i.decrease(e,a))};t.nodes().forEach((function(t){var r=t===e?0:Number.POSITIVE_INFINITY;o[t]={distance:r},i.add(t,r)}));for(;i.size()>0&&(u=i.removeMin(),c=o[u],c.distance!==Number.POSITIVE_INFINITY);)n(u).forEach(s);return o}(t,String(e),r||pn,n||function(e){return t.outEdges(e)})}function vn(t){let e=0;const r=[],n={},o=[];function i(u){var c=n[u]={onStack:!0,lowlink:e,index:e++};if(r.push(u),t.successors(u).forEach((function(t){gr(n,t)?n[t].onStack&&(c.lowlink=Math.min(c.lowlink,n[t].index)):(i(t),c.lowlink=Math.min(c.lowlink,n[t].lowlink))})),c.lowlink===c.index){const t=[];let e;do{e=r.pop(),n[e].onStack=!1,t.push(e)}while(u!==e);o.push(t)}}return t.nodes().forEach((function(t){gr(n,t)||i(t)})),o}var yn=Ke(1);var _n=Le("length"),bn=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var gn="[\\ud800-\\udfff]",jn="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",wn="\\ud83c[\\udffb-\\udfff]",mn="[^\\ud800-\\udfff]",On="(?:\\ud83c[\\udde6-\\uddff]){2}",En="[\\ud800-\\udbff][\\udc00-\\udfff]",An="(?:"+jn+"|"+wn+")"+"?",In="[\\ufe0e\\ufe0f]?",kn=In+An+("(?:\\u200d(?:"+[mn,On,En].join("|")+")"+In+An+")*"),Sn="(?:"+[mn+jn+"?",jn,On,En,gn].join("|")+")",Nn=RegExp(wn+"(?="+wn+")|"+Sn+kn,"g");function Cn(t){return function(t){return bn.test(t)}(t)?function(t){for(var e=Nn.lastIndex=0;Nn.test(t);)++e;return e}(t):_n(t)}function Pn(t){if(null==t)return 0;if(Q(t))return"string"==typeof(e=t)||!O(e)&&y(e)&&"[object String]"==v(e)?Cn(t):t.length;var e,r=oe(t);return"[object Map]"==r||"[object Set]"==r?t.size:Y(t).length}function zn(t){const e={},r={},n=[];if(lr(t.sinks(),(function o(i){if(gr(r,i))throw new xn;gr(e,i)||(r[i]=!0,e[i]=!0,lr(t.predecessors(i),o),delete r[i],n.push(i))})),Pn(e)!==t.nodeCount())throw new xn;return n}function xn(){}function Dn(t,e,r){O(e)||(e=[e]);var n=(t.isDirected()?t.successors:t.neighbors).bind(t);const o=[],i={};return lr(e,(function(e){if(!t.hasNode(e))throw new Error("Graph does not have node: "+e);Fn(t,e,"post"===r,i,n,o)})),o}function Fn(t,e,r,n,o,i){gr(n,e)||(n[e]=!0,r||i.push(e),lr(o(e),(function(e){Fn(t,e,r,n,o,i)})),r&&i.push(e))}xn.prototype=new Error,zn.CycleException=xn;var Mn=Object.freeze({__proto__:null,components:function(t){const e={},r=[];let n;function o(r){gr(e,r)||(e[r]=!0,n.push(r),lr(t.successors(r),o),lr(t.predecessors(r),o))}return lr(t.nodes(),(function(t){n=[],o(t),n.length&&r.push(n)})),r},dijkstra:dn,dijkstraAll:function(t,e,r){return function(t,e,r){var n=O(t),o=n||k(t)||T(t);if(e=Ue(e),null==r){var i=t&&t.constructor;r=o?n?new i:[]:q(t)&&K(i)?Xr(Br(t)):{}}return(o?hr:J)(t,(function(t,n,o){return e(r,t,n,o)})),r}(t.nodes(),(function(n,o){n[o]=dn(t,o,e,r)}),{})},findCycles:function(t){return yr(vn(t),(function(e){return e.length>1||1===e.length&&t.hasEdge(e[0],e[0])}))},floydWarshall:function(t,e,r){return function(t,e,r){const n={},o=t.nodes();return o.forEach((function(t){n[t]={},n[t][t]={distance:0},o.forEach((function(e){t!==e&&(n[t][e]={distance:Number.POSITIVE_INFINITY})})),r(t).forEach((function(r){const o=r.v===t?r.w:r.v,i=e(r);n[t][o]={distance:i,predecessor:t}}))})),o.forEach((function(t){var e=n[t];o.forEach((function(r){var i=n[r];o.forEach((function(r){var n=i[t],o=e[r],u=i[r],c=n.distance+o.distance;c<u.distance&&(u.distance=c,u.predecessor=o.predecessor)}))}))})),n}(t,e||yn,r||function(e){return t.outEdges(e)})},isAcyclic:function(t){try{zn(t)}catch(t){if(t instanceof zn.CycleException)return!1;throw t}return!0},postorder:function(t,e){return Dn(t,e,"post")},preorder:function(t,e){return Dn(t,e,"pre")},prim:function(t,e){const r=new wr,n={},o=new ln;let i;function u(t){const r=t.v===i?t.w:t.v,u=o.priority(r);if(void 0!==u){var c=e(t);c<u&&(n[r]=i,o.decrease(r,c))}}if(0===t.nodeCount())return r;lr(t.nodes(),(function(t){o.add(t,Number.POSITIVE_INFINITY),r.setNode(t)})),o.decrease(t.nodes()[0],0);for(var c=!1;o.size()>0;){if(i=o.removeMin(),gr(n,i))r.setEdge(i,n[i]);else{if(c)throw new Error("Input graph is not connected: "+t);c=!0}t.nodeEdges(i).forEach(u)}return r},tarjan:vn,topsort:zn});t.Graph=wr,t.alg=Mn,t.json=hn,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=graphlib.js.map
