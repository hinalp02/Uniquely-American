{"version":3,"file":"d3.js","sources":["../../src/utils/d3.ts"],"sourcesContent":["import { interrupt, Transition } from 'd3-transition'\nimport { BaseType, Selection } from 'd3-selection'\nimport { ValueFn } from 'd3'\n\nexport function smartTransition<Element extends BaseType, Datum, ParentElement extends BaseType, ParentDatum> (\n  selection: Selection<Element, Datum, ParentElement, ParentDatum>,\n  duration?: number,\n  easing?: (normalizedTime: number) => number\n): Selection$Transition<Element, Datum, ParentElement, ParentDatum> {\n  selection.nodes().forEach(node => interrupt(node)) // Interrupt active transitions if any\n  if (duration) {\n    const transition = selection.transition().duration(duration)\n    if (easing) transition.ease(easing)\n    return transition\n  } else return selection\n}\n\nexport interface VisAttrStylePatch<GElement extends BaseType, Datum, PElement extends BaseType, PDatum> {\n  attr(name: string, value: null | string | number | boolean): this;\n  attr(name: string, value: ValueFn<GElement, Datum, string | number | boolean | null>): this;\n  style(name: string, value: null): this;\n  style(name: string, value: string | number | boolean, priority?: null | 'important'): this;\n  style(name: string, value: ValueFn<GElement, Datum, string | number | boolean | null>, priority?: null | 'important'): this;\n}\n\nexport type Selection$Transition<Element extends BaseType, Datum, ParentElement extends BaseType, ParentDatum> =\n  (Transition<Element, Datum, ParentElement, ParentDatum> | Selection<Element, Datum, ParentElement, ParentDatum>)\n  & VisAttrStylePatch<Element, Datum, ParentElement, ParentDatum>\n"],"names":[],"mappings":";;SAIgB,eAAe,CAC7B,SAAgE,EAChE,QAAiB,EACjB,MAA2C,EAAA;AAE3C,IAAA,SAAS,CAAC,KAAK,EAAE,CAAC,OAAO,CAAC,IAAI,IAAI,SAAS,CAAC,IAAI,CAAC,CAAC,CAAA;AAClD,IAAA,IAAI,QAAQ,EAAE;QACZ,MAAM,UAAU,GAAG,SAAS,CAAC,UAAU,EAAE,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAA;AAC5D,QAAA,IAAI,MAAM;AAAE,YAAA,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,CAAA;AACnC,QAAA,OAAO,UAAU,CAAA;AAClB,KAAA;;AAAM,QAAA,OAAO,SAAS,CAAA;AACzB;;;;"}