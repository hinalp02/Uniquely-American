{"version":3,"file":"utils.js","sources":["../../../src/components/topojson-map/utils.ts"],"sourcesContent":["import { getNumber } from 'utils/data'\n\n// Config\nimport { NumericAccessor } from 'types/accessor'\n\nexport function getLonLat<Datum> (d: Datum, pointLongitude: NumericAccessor<Datum>, pointLatitude: NumericAccessor<Datum>): [number, number] {\n  const lat = getNumber(d, pointLatitude)\n  const lon = getNumber(d, pointLongitude)\n  return [lon, lat]\n}\n\nexport function arc (source?: number[], target?: number[], curvature?: number): string {\n  if (!target || !source) return 'M0,0,l0,0z'\n  const d = 3\n  const angleOffset = curvature || 0\n  const s = { x: source[0], y: source[1] }\n  const t = { x: target[0], y: target[1] }\n  const ds = { x: (t.x - s.x) / d, y: (t.y - s.y) / d }\n  const dt = { x: (s.x - t.x) / d, y: (s.y - t.y) / d }\n  let angle = 0.16667 * Math.PI * (1 + angleOffset)\n  if (s.x < t.x) angle = -angle\n  const cs = Math.cos(angle)\n  const ss = Math.sin(angle)\n  const ct = Math.cos(-angle)\n  const st = Math.sin(-angle)\n  const dds = { x: (cs * ds.x) - (ss * ds.y), y: (ss * ds.x) + (cs * ds.y) }\n  const ddt = { x: (ct * dt.x) - (st * dt.y), y: (st * dt.x) + (ct * dt.y) }\n  return `M${s.x},${s.y} C${s.x + dds.x},${s.y + dds.y} ${t.x + ddt.x},${t.y + ddt.y} ${t.x},${t.y}`\n}\n"],"names":[],"mappings":"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"}