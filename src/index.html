<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <!-- Uncomment if you want your page to NOT be indexed by search engines: -->
  <meta name="robots" content="none">
  <link rel="stylesheet" href="style.css" />
  <title>A Uniquely American Problem</title>
  <script type="module" src="main.js"></script>
  <!-- Uncomment if using d3: -->
  <!-- <script src="https://d3js.org/d3.v7.min.js"></script> -->

  <!-- Uncomment if using Vega-Lite -->
  <!-- <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite-api@5.0.0"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-tooltip"></script> -->
</head>

<!------------------------------------------------------------>
<!-- You are free to modify this template however you want! -->
<!------------------------------------------------------------>

<body>
  <header>
    <h1><a href=".">A Uniquely American Problem</a></h1>

    <span>
      <strong>Team Members: </strong> Seth Feaser, Hinal Patel, Sruthi Padisetty, Anusha Gani
    </span>
    <div class="citation">
      <strong>Data Source</strong>:
      <a href="https://www.TheViolenceProject.org" target="_blank">Violence Prevention Project</a>
    </div>
  </header>
  <main>
    <h3>Introduction</h3>
    <p>Out of all of the challenges that nations face today, there is one that is uniquely American. While already a leader in gun violence, the United States is faced with an even more dangerous epidemic: mass shootings. Now, this isn't solely an American problem; there are occasional mass shootings in other countries as well, but they are not as numerous, as deadly, and in such varied locations as they are in the U.S.
    </p>

    <p>
      Unlike many other countries that have passed stringent regulations and taken steps to curb the number of firearms in circulation, the United States stands out for its unique relationship with guns. The very idea of firearms is embedded in the cultural identity of a significant portion of its population. The right to bear arms is set in stone by the Second Amendment, which encourages well-regulated militias in the defense against government overreach. Unfortunately, this unyielding language prevents common-sense laws for safety and has given rise to a landscape marked by recurring tragedies. Tragedies that unfold in schools, places of worship, and public spaces leave behind a poorly regulated trail of grief and heartbreak.
    </p>

    <p>
      The mission of the Violence Project is to gain a comprehensive, quantifiable view of this issue across the map. They have gathered sixty years of data corresponding to 197 mass shootings and broken those down into 180 variables. The goal was to connect the series of seemingly unconnected dots, hoping to reveal a pattern. As we delve into this data, we will showcase various variables from the violence project data in hopes of revealing patterns in this uniquely American issue.
    </p>
    <p>
      To begin our examination, we've taken the blank canvas of the continental U.S. and overlaid a series of dots of varying sizes. Each dot below is not only a reminder of communities shattered by terror and grief but also an indicator of lives lost. Their size shows the number of innocent lives taken from their loved ones, and their placement tells the stories of American cities and towns forever changed by domestic terrorists.
    </p>
    <h3>Locations</h3>
    <div id="map"></div>

    <p>
      Through this visualization, we attempt to understand the scale and scope of gun violence in the United States. We, as a people, need to confront the reality that these are not disparate events but symptoms of broader societal issues. As we walk through our other visualizations, we seek to find the correlations between who is committing these acts of terror, break down the factors that contribute to why they commit these acts, and take a look at where the shootings are most concentrated.
    </p>

    <h3>Motives</h3>
    <div id="sankey"></div>

    <h3> Sunburst </h3>
    <div id="observablehq-breadcrumb-47c3ba54"></div>
    <div id="observablehq-viewof-sunburst-47c3ba54"></div>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@observablehq/inspector@5/dist/inspector.css">
    <script type="module">
      import {Runtime, Inspector} from "https://cdn.jsdelivr.net/npm/@observablehq/runtime@5/dist/runtime.js";
      import define from "https://api.observablehq.com/d/61b744f04387d52a@624.js?v=4";
      new Runtime().module(define, name => {
        if (name === "breadcrumb") return new Inspector(document.querySelector("#observablehq-breadcrumb-47c3ba54"));
        if (name === "viewof sunburst") return new Inspector(document.querySelector("#observablehq-viewof-sunburst-47c3ba54"));
      });
    </script>

    <h3>Locations</h3>
    <script>

      // set the dimensions and margins of the graph
      var margin = {top: 30, right: 30, bottom: 70, left: 60},
              width = 460 - margin.left - margin.right,
              height = 400 - margin.top - margin.bottom;

      // append the svg object to the body of the page
      var svg = d3.select("#my_dataviz")
              .append("svg")
              .attr("width", width + margin.left + margin.right)
              .attr("height", height + margin.top + margin.bottom)
              .append("g")
              .attr("transform",
                      "translate(" + margin.left + "," + margin.top + ")");

      // Parse the Data
      d3.csv(locations.csv, function(data) {

        // sort data
        data.sort(function(b, a) {
          return a.Value - b.Value;
        });

        // X axis
        var x = d3.scaleBand()
                .range([ 0, width ])
                .domain(data.map(function(d) { return d.Locations; }))
                .padding(0.2);
        svg.append("g")
                .attr("transform", "translate(0," + height + ")")
                .call(d3.axisBottom(x))
                .selectAll("text")
                .attr("transform", "translate(-10,0)rotate(-45)")
                .style("text-anchor", "end");

        // Add Y axis
        var y = d3.scaleLinear()
                .domain([0, 13000])
                .range([ height, 0]);
        svg.append("g")
                .call(d3.axisLeft(y));

        // Bars
        svg.selectAll("mybar")
                .data(data)
                .enter()
                .append("rect")
                .attr("x", function(d) { return x(d.Country); })
                .attr("y", function(d) { return y(d.Value); })
                .attr("width", x.bandwidth())
                .attr("height", function(d) { return height - y(d.Value); })
                .attr("fill", "#69b3a2")

      })

    </script>
  </main>
  <footer>
    <p>
      <a href="https://gitlab.cs.washington.edu/cse442/24wi/final-project/Uniquely-American">Repository</a>
      <br>
      <a href="https://courses.cs.washington.edu/courses/cse442/23wi/">CSE 442 Data Visualization</a>
      <br>
      <a href="https://www.washington.edu">University of Washington</a>
    </p>
  </footer>
</body>

</html>
